-#= rp.inputs "#{rp.object.primary? ? 'Primary' : 'Secondary'} #{rp.object.person_role.role_name} Information" do
= rp.inputs "#{rp.object.primary? ? 'Primary' : 'Secondary'}" do
  %hr
  -#= rp.input :_destroy, :as => :hidden
  -#= link_to_function "Remove", "remove_fields(this);" unless (rp.object.person_role.role_abbreviation == 'PG' && rp.object.primary?)
  = remove_child_link "Remove", rp
  -#javascript:remove_fields(this);
  = rp.input :person_role_id, :as => :hidden
  = rp.input :primary, :as => :hidden
  = rp.semantic_fields_for :person do |person|
    = person.input :first_name, :label => "First Name", :required => true
    = person.input :last_name, :label => "Last Name", :required => true
    = person.input :street1, :label => "Address"
    = person.input :city, :as => :select, :include_blank => false, :collection => @cities
    = person.input :province, :as => :select, :include_blank => false, :collection => %w{ BC AB SK MB ON QC NB PE NS NF YK NW NV }
    = person.input :country, :as => :select, :include_blank => false, :collection => %w{ Canada USA }
    = person.input :postal_code, :label => "Postal Code"
    = person.input :phone, :as => :phone
    = person.input :phone_type, :as => :select, :collection => @phone_types, :include_blank => false, :label => "Phone Type"
    = person.input :alt_phone, :as => :phone, :label => "Alternate Phone"
    = person.input :alt_phone_type, :as => :select, :collection => @phone_types, :include_blank => false, :label => "Alternate Phone Type"
    = person.input :email, :as => :email
    = person.input :email_type, :as => :select, :collection => @email_types, :include_blank => false, :label => "Email Type"
    = person.input :alt_email, :as => :email, :label => "Alternate Email"
    = person.input :alt_email_type, :as => :select, :collection => @email_types, :include_blank => false, :label => "Alternate Email Type"
